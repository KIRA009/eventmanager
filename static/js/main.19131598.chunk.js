(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(57),r=n(0),o=n.n(r),c=n(26),l=n.n(c),s=n(5),i=n(52),u=n(8),p=(n(53),n(54)),m=n(50),d=n(42),g=n(55),h=n.n(g),b=n(58),f=n(30),v=n(6),O=n(20),y=n.n(O);y.a.defaults.baseURL="https://extremist.team/event_manager/api/",y.a.defaults.timeout=4e3;var j=function(e){return e},E={del:function(e){return y.a.del("".concat(e)).then(j)},get:function(e){return y.a.get("".concat(e)).then(j)},getPaginated:function(e,t){return y.a.get("".concat(e)).set("page_num",t).then(j)},put:function(e,t){return y.a.put("".concat(e),t).then(j)},post:function(e,t){return y.a.post("".concat(e),t).then(j)},postFile:function(e,t,n){var a=new FormData;return a.append(t,n),y.a.post("".concat(e),a,{headers:{"Content-Type":"multipart/form-data"}}).then(j)}},w={login:function(e){return E.post("/login/",e)},logout:function(){return E.post("/logout/")},register:function(e){return E.post("/register/",e)},updateUser:function(e){return E.post("/update/",e)},getColleges:function(){return E.get("/colleges/")}},S=function(e){y.a.defaults.headers.common={Token:e}};f.c.configure();var N=function(e){return function(t){return function(n){if((o=n.payload)&&"function"===typeof o.then){e.dispatch({type:"ASYNC_START",subtype:n.type});var a=e.getState().viewChangeCounter,r=n.skipTracking;n.payload.then(function(t){var o=e.getState();(r||o.viewChangeCounter===a)&&(n.payload=t.data,e.dispatch({type:"ASYNC_END",promise:n.payload}),e.dispatch(n))},function(e){console.log(e.response)})}else{var o;t(n)}}}},P=function(e){return function(t){return function(n){"REGISTER"===n.type||"LOGIN"===n.type?n.error||(console.log("chkkk",n),window.localStorage.setItem("bearer",n.payload.data.token),S(n.payload.data.token)):"LOGOUT"===n.type&&(window.localStorage.setItem("bearer",null),window.localStorage.setItem("role",null),e.dispatch(Object(v.d)("/")),console.log("logout"),S(null)),t(n)}}},k=n(9),C=n(25);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach(function(t){Object(k.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach(function(t){Object(k.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var L={AuthReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ASYNC_START":case"ASYNC_END":return T({},e);case"GET_COLLEGES":return T({},e,{colleges:t.payload});default:return e}return e},HomePageReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case"ASYNC_START":case"ASYNC_END":return x({},e);default:return e}return e}};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach(function(t){Object(k.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _={appName:"ProjectX",token:null,viewChangeCounter:0},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP_LOAD":return I({},e,{token:t.token||null,appLoaded:!0});case"REDIRECT":return console.log("red",t),I({},e,{redirectTo:t.payload});case"REGISTER":return I({},e,{redirectTo:t.error?null:"/",token:t.error?null:t.payload.token,currentUser:t.error?null:t.payload.data.name,role:t.payload.role,name:t.payload.name});default:return e}};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var G,B=function(e){return Object(u.combineReducers)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach(function(t){Object(k.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},L,{common:U,router:Object(C.b)(e)}))},q={key:"root",storage:h.a},M=Object(b.a)(),Y=Object(d.a)(q,(G=M,function(e,t){if("LOGOUT"===t.type){var n=e;e={router:n.router,common:n.common}}return B(G)(e,t)})),F=Object(m.a)(M),H=Object(u.createStore)(Y,Object(p.composeWithDevTools)(Object(u.applyMiddleware)(F,N,P))),K=Object(d.b)(H),J=n(12),X=n(13),$=n(15),z=n(14),Q=n(29),V=n(16),Z=(n(92),n(93),n(117)),ee=n(118),te=n(31),ne=(n(34),n(94),n(119)),ae=n(116);n(95);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(n,!0).forEach(function(t){Object(k.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ce=function(e){function t(e){var n;return Object(J.a)(this,t),(n=Object($.a)(this,Object(z.a)(t).call(this,e))).handleNext=function(){n.setState({activeStep:n.state.activeStep+1})},n.state={user:{name:"",number:"",college:"NIIT",password:"",email:""},activeStep:0,loading:!1,err:""},n.colleges=[],n}return Object(V.a)(t,e),Object(X.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.colleges.colleges),this.colleges=this.props.colleges.colleges,0!==this.colleges.length&&this.setState({user:oe({},this.state.user,{college:this.colleges[0]})})}},{key:"componentWillReceiveProps",value:function(e){}},{key:"handleChangeCollege",value:function(e){console.log(e.target.value),this.setState({user:oe({},this.state.user,{college:e.target.value})})}},{key:"moveNext",value:function(e){var t=this;if(e.preventDefault(),this.setState({err:""}),0===this.state.activeStep){var n=this.state.user,a={name:n.name,phone:n.number,college:n.college.id};console.log(a),this.setState({loading:!0}),w.register(a).then(function(e){console.log(e),t.handleNext(),t.setState({loading:!1,user:oe({},t.state.user,{secret:e.data.secret})})}).catch(function(e){e.response&&(console.log(e.response),t.setState({error:e.response.data.error,loading:!1}))})}else{var r=this.state.user,o={secret:r.secret,email:r.email,password:r.password};console.log(o),this.setState({loading:!0}),w.updateUser(o).then(function(e){console.log(e),t.props.changeScreen(),t.setState({loading:!1,secret:e.data.secret})}).catch(function(e){console.log(e),e.response&&(console.log(e.response),t.setState({error:e.response.data.error,loading:!1}))})}}},{key:"render",value:function(){var e=this,t=this.state.user.college;return o.a.createElement("div",{className:""},o.a.createElement("div",{className:" ba tc w-100 pa4 box vertical-align ",style:{minHeight:"70vh",position:"relative"}},o.a.createElement("h1",{className:" heading center mt1 mb0 "},"Instagram"),o.a.createElement(ne.a,Object(k.a)({variant:"progress",steps:3,position:"static",activeStep:this.state.activeStep,style:{width:"100%"}},"style",{})),0===this.state.activeStep?o.a.createElement("form",{className:"tc",onSubmit:this.moveNext.bind(this)},o.a.createElement("legend",{className:"tc center subheading"},"Sign up To see photos and videos of your friends"),o.a.createElement("div",{className:"input-label-div"},o.a.createElement("input",{type:"text",name:"name",className:"inp",value:this.state.user.name,onChange:function(t){return e.setState({user:oe({},e.state.user,{name:t.target.value})})},required:!0}),o.a.createElement("label",{className:"inp-label",name:"name"},"Name")),o.a.createElement("div",{className:"input-label-div"},o.a.createElement("input",{type:"number",name:"phone-number",className:"inp",required:!0,value:this.state.user.number,onChange:function(t){return e.setState({user:oe({},e.state.user,{number:t.target.value})})}}),o.a.createElement("label",{className:"inp-label"},"Mobile number")),o.a.createElement("div",{className:"input-label-div"},o.a.createElement("select",{id:"college",className:" inp mt1",onChange:function(t){return e.handleChangeCollege(t)}},this.colleges.map(function(e,t){return o.a.createElement("option",{value:e,key:e.id},e.name)})),o.a.createElement("label",{className:"inp-label"},"Select College")),o.a.createElement("div",{className:"flex    "},o.a.createElement("input",{type:"submit",value:"Next",className:"color-btn"})),o.a.createElement("p",{className:"err-txt"},this.state.error)):o.a.createElement("form",{className:"tc",onSubmit:this.moveNext.bind(this)},o.a.createElement("legend",{className:"tc center subheading"},"Sign up To see photos and videos of your friends"),o.a.createElement("div",{className:"input-label-div"},o.a.createElement("input",{type:"email",name:"email",className:"inp",value:this.state.user.email,onChange:function(t){return e.setState({user:oe({},e.state.user,{email:t.target.value})})},required:!0}),o.a.createElement("label",{className:"inp-label"},"Email")),t.has_college_email?o.a.createElement("p",{className:"small-txt"}," ","Enter you college specific email id to register."," "):null,o.a.createElement("div",{className:"input-label-div"},o.a.createElement("input",{type:"password",name:"password",className:"inp",required:!0,value:this.state.user.password,onChange:function(t){return e.setState({user:oe({},e.state.user,{password:t.target.value})})}}),o.a.createElement("label",{className:"inp-label"},"Password")),o.a.createElement("p",{className:"err-txt"},this.state.error),o.a.createElement("input",{type:"submit",value:"Sign Up",className:"color-btn"})),this.state.loading?o.a.createElement("div",{className:"loading"}," ",o.a.createElement(ae.a,null)):null),o.a.createElement("div",{className:" tc box mt3",type:"button"},o.a.createElement("button",{onClick:function(){return e.props.changeScreen()},className:"btn"},o.a.createElement("p",null,"Have an account?",o.a.createElement("a",null,o.a.createElement("span",null,"Log in"))))))}}]),t}(r.Component),le=Object(s.c)(function(e){return{}},function(e){return{}})(ce),se=(n(96),function(e){function t(){return Object(J.a)(this,t),Object($.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"loading"}," ",o.a.createElement(ae.a,null))}}]),t}(r.Component)),ie=Object(s.c)(function(e){return{}},function(e){return{}})(se);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(n,!0).forEach(function(t){Object(k.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var me=function(e){function t(e){var n;return Object(J.a)(this,t),(n=Object($.a)(this,Object(z.a)(t).call(this,e))).state={user:{username:"",password:""},loading:!1,error:""},n}return Object(V.a)(t,e),Object(X.a)(t,[{key:"login",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0,error:""});var n=this.state.user;w.login(n).then(function(e){console.log(e),S(e.data.token),window.localStorage.setItem("bearer",e.data.token),H.dispatch(Object(te.a)("/")),t.setState({loading:!1})}).catch(function(e){console.log(e),t.setState({loading:!1}),e.response&&(console.log(e.response),t.setState({error:e.response.data.error,loading:!1}))})}},{key:"render",value:function(){var e=this,t=this.state.user,n=t.username,a=t.password;return o.a.createElement("div",null,o.a.createElement("div",{className:" ba tc w-100 pa4 box vertical-align ",style:{position:"relative"}},o.a.createElement("h1",{className:" heading center"},"Instagram"),o.a.createElement("form",{onSubmit:this.login.bind(this)},o.a.createElement("div",{className:"input-label-div"},o.a.createElement("input",{type:"text",name:"phone-number",className:"inp",value:n,onChange:function(t){return e.setState({user:pe({},e.state.user,{username:t.target.value})})},required:!0}),o.a.createElement("label",{className:"inp-label"},"Email")),o.a.createElement("div",{className:"input-label-div"},o.a.createElement("input",{type:"password",name:"phone-number",className:"inp",required:!0,value:a,onChange:function(t){return e.setState({user:pe({},e.state.user,{password:t.target.value})})}}),o.a.createElement("label",{className:"inp-label"},"password")),o.a.createElement("p",{className:"err-txt"},this.state.error),o.a.createElement("input",{type:"submit",value:"Login",className:"color-btn"})),o.a.createElement("button",{className:"btn",type:"button"},"Forgot password")),o.a.createElement("div",{className:" tc box  mt3",type:"button"},o.a.createElement("button",{onClick:function(){return e.props.changeScreen()},className:"btn",type:"button"},o.a.createElement("p",null,"Don't have an account?",o.a.createElement("a",null,o.a.createElement("span",null,"Sign up"))))),this.state.loading?o.a.createElement(ie,null):null)}}]),t}(r.Component),de=Object(s.c)(function(e){return{}},function(e){return{}})(me),ge=function(e){function t(e){var n;return Object(J.a)(this,t),(n=Object($.a)(this,Object(z.a)(t).call(this,e))).state={showSignup:!1},n.auth={},n.colleges=[],n}return Object(V.a)(t,e),Object(X.a)(t,[{key:"changeScreen",value:function(e){this.setState({showSignup:!this.state.showSignup})}},{key:"componentWillMount",value:function(){this.props.getColleges()}},{key:"componentWillReceiveProps",value:function(e){console.log(e),e.auth&&(this.auth!=e.auth&&(this.auth=e.auth),this.colleges=e.auth.colleges)}},{key:"render",value:function(){return o.a.createElement("div",{className:"auth-div center"},o.a.createElement("article",{className:"center  "},o.a.createElement("div",null,this.state.showSignup?o.a.createElement(le,{changeScreen:this.changeScreen.bind(this),colleges:this.colleges}):o.a.createElement(de,{changeScreen:this.changeScreen.bind(this)}))))}}]),t}(r.Component),he=Object(s.c)(function(e){return{auth:e.AuthReducer}},function(e){return{getColleges:function(){return e({type:"GET_COLLEGES",payload:w.getColleges()})}}})(ge),be=(n(97),function(e){function t(e){var n;return Object(J.a)(this,t),(n=Object($.a)(this,Object(z.a)(t).call(this,e))).state={},n}return Object(V.a)(t,e),Object(X.a)(t,[{key:"changeScreen",value:function(e){}},{key:"componentWillMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){return o.a.createElement("div",{className:"auth-div center"},o.a.createElement("article",{className:"center  "},o.a.createElement("div",null,"HomePage")))}}]),t}(r.Component)),fe=Object(s.c)(function(e){return{}},function(e){return{}})(be),ve=function(e){function t(e){var n;return Object(J.a)(this,t),(n=Object($.a)(this,Object(z.a)(t).call(this,e))).handleToggleBtn=function(){n.setState({openSideDrawer:!0})},n.handleBackdrop=function(){n.setState({openSideDrawer:!1})},n.state={openSideDrawer:!1},n.handleToggleBtn=n.handleToggleBtn.bind(Object(Q.a)(n)),n.handleBackdrop=n.handleBackdrop.bind(Object(Q.a)(n)),n}return Object(V.a)(t,e),Object(X.a)(t,[{key:"componentWillMount",value:function(){var e=window.localStorage.getItem("bearer");e&&S(e),null===e&&(console.log("roken",e),H.dispatch(Object(te.a)("/signUp")),this.props.onRedirect("/signUp")),this.props.onLoad(e?1:null,e)}},{key:"componentWillReceiveProps",value:function(e){console.log("App.js",e),this.props.history.location!==e.history.location&&this.props.onRedirect(e.history.location),e.redirectTo&&e.redirectTo!==this.props.redirectTo&&H.dispatch(Object(te.a)(e.redirectTo))}},{key:"render",value:function(){window.localStorage.getItem("role");return o.a.createElement("div",{style:{height:"100%"}},o.a.createElement(f.b,{autoClose:2e3,closeOnClick:!0,transition:f.a,pauseOnFocusLoss:!1}),o.a.createElement(C.a,{history:this.props.history},o.a.createElement(Z.a,null,o.a.createElement(ee.a,{path:"/signUp",component:he,exact:!0}),o.a.createElement(ee.a,{path:"/",component:fe,exact:!0}))),void 0,void 0)}}]),t}(r.Component),Oe=Object(s.c)(function(e){return{appLoaded:e.common.appLoaded,appName:e.common.appName,currentUser:e.common.currentUser,redirectTo:e.common.redirectTo,apiKey:e.common.apiKey}},function(e){return{onLoad:function(t,n){return e({type:"APP_LOAD",payload:t,apiKey:n,skipTracking:!0})},onRedirect:function(t){return e({type:"REDIRECT",payload:t})},clearReducer:function(){return e({type:"CLEAR"})}}})(ve);n(98),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(s.a,{store:H},o.a.createElement(i.a,{loading:null,persistor:K},o.a.createElement(a.AppContainer,null,o.a.createElement(Oe,{history:M})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},62:function(e,t,n){e.exports=n(100)},92:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){}},[[62,1,2]]]);
//# sourceMappingURL=main.19131598.chunk.js.map
