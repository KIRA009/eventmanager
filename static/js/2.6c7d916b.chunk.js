(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{146:function(e,t,a){"use strict";var r=a(4),n=a(29),o=a(30),s=a(32),i=a(31),c=a(33),l=a(0),h=a.n(l),u=(a(72),a(14)),d=(a(153),a(47)),p=a(21),f=a(19),m=a(165),g=a.n(m),b=a(3),y=a(25),I=a(191);a(188);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach(function(t){Object(r.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var _=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={style:{},user:{},isNormalUser:!0,isLogoEditable:!1,headerInfo:{header_icon:g.a,header_text:f.a}},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.logostyles?this.setState({style:this.props.logostyles}):this.setState({hideText:!1}),"login"!==this.props.parent&&"signup"!==this.props.parent&&"landing-page"!==this.props.parent&&(this.props.hideText&&this.setState({hideText:this.props.hideText}),"public-home-page"===this.props.parent?this.props.publicHeaderInfo&&(this.props.publicHeaderInfo.header_icon&&this.props.publicHeaderInfo.header_text?this.setState({headerInfo:this.props.publicHeaderInfo}):this.setState({headerInfo:{header_text:f.a,header_icon:g.a}})):this.props.headerInfo&&(this.props.headerInfo.header_icon&&this.props.headerInfo.header_text?this.props.headerInfo!==this.state.headerInfo&&this.setState({headerInfo:this.props.headerInfo}):this.setState({headerInfo:{header_text:f.a,header_icon:g.a}})))}},{key:"componentWillReceiveProps",value:function(e){if("login"!==this.props.parent&&"signup"!==this.props.parent&&"landing-page"!==this.props.parent){if(this.props.hideText?this.setState({hideText:this.props.hideText,style:e.logostyles}):this.setState({hideText:!1,style:e.logostyles}),"public-home-page"===this.props.parent){if(e.publicHeaderInfo){var t={};t=e.publicHeaderInfo.header_icon?{header_icon:e.publicHeaderInfo.header_icon}:{header_icon:g.a},t=e.publicHeaderInfo.header_text?O({},t,{header_text:e.publicHeaderInfo.header_text}):O({},t,{header_text:f.a}),this.setState({headerInfo:t})}}else e.headerInfo&&e.headerInfo.header_icon&&e.headerInfo.header_text?e.headerInfo!==this.state.headerInfo&&this.setState({headerInfo:e.headerInfo}):this.setState({headerInfo:{header_text:f.a,header_icon:g.a}});if(e.user&&e.user.user!==this.state.user){var a="normal"===e.user.user.user_type;this.setState({isNormalUser:a,isLogoEditable:"public-home-page"!==this.props.parent,user:e.user.user})}}}},{key:"render",value:function(){var e=this.state.headerInfo,t=e.header_text,a=e.header_icon,r=this.state,n=r.style,o=r.isLogoEditable,s=(r.isNormalUser,r.hideText);return h.a.createElement("div",{className:"logo-img-div  ",style:n},h.a.createElement("img",{src:a,alt:""}),s?null:h.a.createElement("p",null,"".concat(t)),h.a.createElement("div",{className:"logo-change-logo-div"},o?h.a.createElement(I.a,null):h.a.createElement("button",{className:"w-100 h-100",onClick:function(){return p.c.dispatch(Object(d.a)("/"))}})))}}]),t}(l.Component);t.a=Object(u.c)(function(e){return{headerInfo:e.AdminPageReducers.headerInfo,user:e.AuthReducer.user,publicHeaderInfo:e.HomePageReducers.publicHeaderInfo}},function(e){return{getHeaderInfo:function(t){return e({type:b.l,payload:y.a.AdminPage.getHeaderInfo(t)})}}})(_)},153:function(e,t,a){},165:function(e,t,a){e.exports=a.p+"static/media/instalink_logo.85014d77.png"},171:function(e,t,a){},185:function(e,t,a){"use strict";var r=a(29),n=a(30),o=a(32),s=a(31),i=a(33),c=a(0),l=a.n(c),h=a(14),u=(a(72),a(277)),d=a.n(u),p=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={message:""},a}return Object(i.a)(t,e),Object(n.a)(t,[{key:"componentWillMount",value:function(){this.setState({message:this.props.message})}},{key:"render",value:function(){var e=this.state.message;return l.a.createElement("div",{className:""},l.a.createElement("div",{className:"disabled flex justify-center items-center white flex-column tc"},l.a.createElement(d.a,{style:{color:"white"}}),e?l.a.createElement("p",null,"".concat(e)):null,e?l.a.createElement("button",{className:"color-btn",style:{height:"52px"},type:"button",onClick:function(){return window.location.href="/#pricing"}},"Join Pro"):null))}}]),t}(c.Component);t.a=Object(h.c)(function(e){return{}},function(e){return{}})(p)},188:function(e,t,a){"use strict";t.a=function(e){var t,a,r;return e.match(/^rgb/)?(t=(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/))[1],a=e[2],r=e[3]):(t=(e=+("0x"+e.slice(1).replace(e.length<5&&/./g,"$&$&")))>>16,a=e>>8&255,r=255&e),Math.sqrt(t*t*.299+a*a*.587+r*r*.114)>127.5?"#000":"#fff"}},191:function(e,t,a){"use strict";var r=a(169),n=a.n(r),o=a(170),s=a(4),i=a(29),c=a(30),l=a(32),h=a(31),u=a(34),d=a(33),p=a(0),f=a.n(p),m=a(14),g=(a(72),a(771)),b=a(776),y=a(775),I=a(796),v=a(221),O=a.n(v),_=a(770),x=a(278),j=a.n(x),E=(a(171),a(17)),w=a(165),S=a.n(w),k=a(3),C=a(73),H=a(185),P=a(19),N=a(25);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var R=f.a.forwardRef(function(e,t){return f.a.createElement(_.a,Object.assign({direction:"up",ref:t},e))}),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={render:!1,iconSrc:S.a,loading:!1,changeHeaderOpen:!1,error:"",headerText:P.a,isNormalUser:!0,iconBlob:null,headerInfo:{header_icon:S.a,header_text:P.a,style:{}}},a.handleChangeHeaderDialogOpen=a.handleChangeHeaderDialogOpen.bind(Object(u.a)(a)),a.onCustomIconSelect=a.onCustomIconSelect.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){if(this.props.user&&this.props.user.user){var e="normal"===this.props.user.user.user_type;this.setState({user:this.props.user.user,isNormalUser:e})}if(this.props.headerInfo){var t={};t=this.props.headerInfo.header_icon?{header_icon:this.props.headerInfo.header_icon}:{header_icon:S.a},t=this.props.headerInfo.header_text?T({},t,{header_text:this.props.headerInfo.header_text}):T({},t,{header_text:P.a}),this.setState({headerInfo:T({},t,{style:{color:"#fff"}}),changeHeaderOpen:!1})}}},{key:"componentWillReceiveProps",value:function(e){if(e.user&&e.user.user&&e.user.user!==this.state.user){var t="normal"===e.user.user.user_type;this.setState({user:e.user.user,isNormalUser:t})}if(e.headerInfo&&e.headerInfo!==this.state.headerInfo){var a={};a=e.headerInfo.header_icon?{header_icon:e.headerInfo.header_icon}:{header_icon:S.a},a=e.headerInfo.header_text?T({},a,{header_text:e.headerInfo.header_text}):T({},a,{header_text:P.a}),this.setState({headerInfo:T({},a,{style:{color:"#fff"}}),changeHeaderOpen:!1})}}},{key:"handleChangeHeaderDialogOpen",value:function(){this.setState({changeHeaderOpen:!this.state.changeHeaderOpen})}},{key:"selectIcon",value:function(e){var t=this;fetch(e).then(function(e){return e.blob()}).then(function(a){a.name="icon",a.lastModified=new Date,a.lastModifiedDate=new Date,a.webkitRelativePath=e,t.setState({imgBlob:a,headerInfo:T({},t.state.headerInfo,{header_icon:e})})})}},{key:"saveChanges",value:function(e){var t=this,a=this.state.headerInfo,r=(a.header_icon,a.header_text),n=[{key:"icon",file:this.state.imgBlob},{key:"header_text",file:r}];this.setState({loading:!0}),N.a.AdminPage.uploadHeaderInfo(n).then(function(e){if(t.props.user){var a={username:t.props.user.user.username};t.props.getHeaderInfo(a),setTimeout(function(){t.setState({loading:!1,changeHeaderOpen:!1})},1e3)}}).catch(function(e){console.log(e),E.c.error("an error occured in updating the header !!!"),e.response&&console.log(e.response)})}},{key:"onCustomIconSelect",value:function(){var e=Object(o.a)(n.a.mark(function e(t){var a,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files&&t.target.files.length>0)){e.next=6;break}return a=t.target.files[0],e.next=4,U(a);case 4:r=e.sent,this.setState({imgBlob:a,headerInfo:T({},this.state.headerInfo,{header_icon:r})});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.headerInfo,r=t.isNormalUser;return f.a.createElement("div",{className:"w-100 h-100"},f.a.createElement("button",{type:"button",className:"side-drawer-link relative",onClick:function(){return e.handleChangeHeaderDialogOpen()}},f.a.createElement(j.a,null),"Change Branding",r?f.a.createElement(H.a,{message:""}):null),f.a.createElement(g.a,{open:this.state.changeHeaderOpen,TransitionComponent:R,keepMounted:!0,onClose:this.handleChangeHeaderDialogOpen,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},f.a.createElement(I.a,{id:"alert-dialog-slide-title"},"Choose Your header."),f.a.createElement(y.a,{style:{flexWrap:"wrap",position:"relative"}},f.a.createElement("div",{className:"logo-img-div center ",style:a.style},f.a.createElement("img",{src:a.header_icon,alt:""}),f.a.createElement("p",{className:"black"},"".concat(a.header_text))),f.a.createElement("div",{className:"flex justify-between bt bb pt2 pb2 "},f.a.createElement("div",Object(s.a)({className:"center"},"className","select-img-icon btn ba self-center "),f.a.createElement("input",{type:"file",id:"avatar",name:"avatar",accept:"image/png, image/jpeg",onChange:this.onCustomIconSelect}),"Choose custom Icon"),f.a.createElement("div",{className:"header-text-input  self-center flex items-center"},f.a.createElement("input",{type:"text",name:"header-name",className:"inp",value:a.header_text,onChange:function(t){return e.setState({headerInfo:T({},a,{header_text:t.target.value})})}}),f.a.createElement(O.a,null)))),f.a.createElement(b.a,null,f.a.createElement("button",{onClick:function(){return e.saveChanges(S.a)},color:"primary",className:"color-btn ma1 ",style:{width:"40%"}},"Save Changes"),f.a.createElement("button",{onClick:function(){return e.selectIcon(S.a)},color:"primary",className:"btn ba "},"Choose Default Icon"),f.a.createElement("button",{onClick:this.handleChangeHeaderDialogOpen,color:"primary",className:"btn ba "},"Cancel")),this.state.loading?f.a.createElement(C.a,null):null,r?f.a.createElement(H.a,{message:"Purchase a Pro pack to unlock this feature"}):null))}}]),t}(p.Component);function U(e){return new Promise(function(t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)},!1),a.readAsDataURL(e)})}t.a=Object(m.c)(function(e){return{user:e.AuthReducer.user,headerInfo:e.AdminPageReducers.headerInfo}},function(e){return{getHeaderInfo:function(t){return e({type:k.l,payload:N.a.AdminPage.getHeaderInfo(t)})}}})(A)}}]);
//# sourceMappingURL=2.6c7d916b.chunk.js.map